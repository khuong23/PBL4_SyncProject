<?xml version="1.0" encoding="UTF-8"?>
<?import java.lang.*?>
<?import javafx.collections.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" 
      fx:controller="com.pbl4.syncproject.client.controllers.SettingsController"
      prefWidth="600" prefHeight="500" style="-fx-background-color: white;">

<TabPane VBox.vgrow="ALWAYS">
    
    <!-- Network Settings Tab -->
    <Tab text="ðŸŒ Máº¡ng" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
            
            <!-- Server Configuration -->
            <VBox spacing="10">
                <Label text="Cáº¥u hÃ¬nh mÃ¡y chá»§" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="16" />
                    </font>
                </Label>
                
                <GridPane hgap="15" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints halignment="RIGHT" minWidth="120" />
                        <ColumnConstraints hgrow="ALWAYS" minWidth="200" />
                        <ColumnConstraints minWidth="100" />
                    </columnConstraints>
                    
                    <Label text="Äá»‹a chá»‰ IP:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                    <TextField fx:id="txtServerIP" GridPane.rowIndex="0" GridPane.columnIndex="1"
                               text="127.0.0.1" style="-fx-background-radius: 6;"/>
                    <Button text="Kiá»ƒm tra" GridPane.rowIndex="0" GridPane.columnIndex="2"
                            style="-fx-background-color: #3b82f6; -fx-text-fill: white; -fx-background-radius: 6;"/>
                    
                    <Label text="Cá»•ng:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                    <TextField fx:id="txtServerPort" GridPane.rowIndex="1" GridPane.columnIndex="1"
                               text="5000" style="-fx-background-radius: 6;"/>
                    
                    <Label text="Timeout (ms):" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                    <Spinner fx:id="spnTimeout" GridPane.rowIndex="2" GridPane.columnIndex="1"
                             min="1000" max="60000" initialValue="30000" style="-fx-background-radius: 6;"/>
                </GridPane>
            </VBox>
            
            <Separator />
            
            <!-- Connection Settings -->
            <VBox spacing="10">
                <Label text="CÃ i Ä‘áº·t káº¿t ná»‘i" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkAutoReconnect" text="Tá»± Ä‘á»™ng káº¿t ná»‘i láº¡i khi máº¥t káº¿t ná»‘i" selected="true"/>
                <CheckBox fx:id="chkKeepAlive" text="Duy trÃ¬ káº¿t ná»‘i (Keep Alive)" selected="true"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Sá»‘ láº§n thá»­ láº¡i:"/>
                    <Spinner fx:id="spnRetryCount" min="1" max="10" initialValue="3" prefWidth="80"/>
                </HBox>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Khoáº£ng thá»i gian thá»­ láº¡i (giÃ¢y):"/>
                    <Spinner fx:id="spnRetryInterval" min="5" max="300" initialValue="30" prefWidth="80"/>
                </HBox>
            </VBox>
        </VBox>
    </Tab>
    
    <!-- Sync Settings Tab -->
    <Tab text="ðŸ”„ Äá»“ng bá»™" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
            
            <!-- Auto Sync -->
            <VBox spacing="10">
                <Label text="Äá»“ng bá»™ tá»± Ä‘á»™ng" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="16" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkAutoSync" text="Báº­t Ä‘á»“ng bá»™ tá»± Ä‘á»™ng" selected="true"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Táº§n suáº¥t kiá»ƒm tra (phÃºt):"/>
                    <Spinner fx:id="spnSyncInterval" min="1" max="60" initialValue="5" prefWidth="80"/>
                </HBox>
                
                <CheckBox fx:id="chkSyncOnStart" text="Äá»“ng bá»™ khi khá»Ÿi Ä‘á»™ng á»©ng dá»¥ng" selected="true"/>
                <CheckBox fx:id="chkSyncSubfolders" text="Äá»“ng bá»™ cÃ¡c thÆ° má»¥c con" selected="true"/>
            </VBox>
            
            <Separator />
            
            <!-- File Types -->
            <VBox spacing="10">
                <Label text="Loáº¡i file Ä‘á»“ng bá»™" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkSyncDocuments" text="TÃ i liá»‡u (.doc, .docx, .pdf, .txt)" selected="true"/>
                <CheckBox fx:id="chkSyncImages" text="HÃ¬nh áº£nh (.png, .jpg, .jpeg, .gif)" selected="true"/>
                <CheckBox fx:id="chkSyncVideos" text="Video (.mp4, .avi, .mkv)" selected="false"/>
                <CheckBox fx:id="chkSyncArchives" text="File nÃ©n (.zip, .rar, .7z)" selected="true"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="KÃ­ch thÆ°á»›c file tá»‘i Ä‘a (MB):"/>
                    <Spinner fx:id="spnMaxFileSize" min="1" max="1000" initialValue="100" prefWidth="80"/>
                </HBox>
            </VBox>
            
            <Separator />
            
            <!-- Conflict Resolution -->
            <VBox spacing="10">
                <Label text="Xá»­ lÃ½ xung Ä‘á»™t" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <RadioButton fx:id="rbNewerWins" text="File má»›i hÆ¡n tháº¯ng" selected="true">
                    <toggleGroup>
                        <ToggleGroup fx:id="conflictResolution" />
                    </toggleGroup>
                </RadioButton>
                <RadioButton fx:id="rbLargerWins" text="File lá»›n hÆ¡n tháº¯ng" toggleGroup="$conflictResolution"/>
                <RadioButton fx:id="rbAskUser" text="Há»i ngÆ°á»i dÃ¹ng" toggleGroup="$conflictResolution"/>
                <RadioButton fx:id="rbKeepBoth" text="Giá»¯ cáº£ hai file" toggleGroup="$conflictResolution"/>
            </VBox>
        </VBox>
    </Tab>
    
    <!-- Security Tab -->
    <Tab text="ðŸ”’ Báº£o máº­t" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
            
            <!-- Encryption -->
            <VBox spacing="10">
                <Label text="MÃ£ hÃ³a" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="16" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkEncryptTransfer" text="MÃ£ hÃ³a dá»¯ liá»‡u khi truyá»n" selected="true"/>
                <CheckBox fx:id="chkEncryptStorage" text="MÃ£ hÃ³a file khi lÆ°u trá»¯" selected="false"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Thuáº­t toÃ¡n mÃ£ hÃ³a:"/>
                    <ComboBox fx:id="cmbEncryption" />
                </HBox>
            </VBox>
            
            <Separator />
            
            <!-- Authentication -->
            <VBox spacing="10">
                <Label text="XÃ¡c thá»±c" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkRememberPassword" text="Nhá»› máº­t kháº©u" selected="false"/>
                <CheckBox fx:id="chkAutoLogin" text="Tá»± Ä‘á»™ng Ä‘Äƒng nháº­p" selected="false"/>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Thá»i gian háº¿t phiÃªn (phÃºt):"/>
                    <Spinner fx:id="spnSessionTimeout" min="5" max="480" initialValue="60" prefWidth="80"/>
                </HBox>
            </VBox>
            
            <Separator />
            
            <!-- Access Control -->
            <VBox spacing="10">
                <Label text="Kiá»ƒm soÃ¡t truy cáº­p" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkLogAccess" text="Ghi log truy cáº­p file" selected="true"/>
                <CheckBox fx:id="chkLogChanges" text="Ghi log thay Ä‘á»•i file" selected="true"/>
                <CheckBox fx:id="chkNotifyChanges" text="ThÃ´ng bÃ¡o khi cÃ³ thay Ä‘á»•i" selected="true"/>
            </VBox>
        </VBox>
    </Tab>
    
    <!-- General Tab -->
    <Tab text="âš™ï¸ Chung" closable="false">
        <VBox spacing="15" style="-fx-padding: 20;">
            
            <!-- Language -->
            <VBox spacing="10">
                <Label text="NgÃ´n ngá»¯ vÃ  giao diá»‡n" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="16" />
                    </font>
                </Label>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="NgÃ´n ngá»¯:"/>
                    <ComboBox fx:id="cmbLanguage" />
                </HBox>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="Chá»§ Ä‘á»:"/>
                    <ComboBox fx:id="cmbTheme" />
                </HBox>
            </VBox>
            
            <Separator />
            
            <!-- Notifications -->
            <VBox spacing="10">
                <Label text="ThÃ´ng bÃ¡o" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <CheckBox fx:id="chkShowNotifications" text="Hiá»ƒn thá»‹ thÃ´ng bÃ¡o há»‡ thá»‘ng" selected="true"/>
                <CheckBox fx:id="chkSoundNotifications" text="Ã‚m thanh thÃ´ng bÃ¡o" selected="false"/>
                <CheckBox fx:id="chkMinimizeToTray" text="Thu nhá» xuá»‘ng khay há»‡ thá»‘ng" selected="true"/>
                <CheckBox fx:id="chkStartWithWindows" text="Khá»Ÿi Ä‘á»™ng cÃ¹ng Windows" selected="false"/>
            </VBox>
            
            <Separator />
            
            <!-- Storage -->
            <VBox spacing="10">
                <Label text="LÆ°u trá»¯" textFill="#1f2937">
                    <font>
                        <Font name="Segoe UI Bold" size="14" />
                    </font>
                </Label>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="ThÆ° má»¥c Ä‘á»“ng bá»™:"/>
                    <TextField fx:id="txtSyncFolder" text="C:\\SyncData" prefWidth="200" style="-fx-background-radius: 6;"/>
                    <Button text="Chá»n..." onAction="#handleChooseSyncFolder"
                            style="-fx-background-color: #6b7280; -fx-text-fill: white; -fx-background-radius: 6;"/>
                </HBox>
                
                <HBox spacing="10" alignment="CENTER_LEFT">
                    <Label text="ThÆ° má»¥c táº¡m:"/>
                    <TextField fx:id="txtTempFolder" text="C:\\Temp\\SyncApp" prefWidth="200" style="-fx-background-radius: 6;"/>
                    <Button text="Chá»n..." onAction="#handleChooseTempFolder"
                            style="-fx-background-color: #6b7280; -fx-text-fill: white; -fx-background-radius: 6;"/>
                </HBox>
                
                <CheckBox fx:id="chkCleanTempOnExit" text="XÃ³a file táº¡m khi thoÃ¡t" selected="true"/>
            </VBox>
        </VBox>
    </Tab>
</TabPane>

<!-- Action Buttons at Bottom -->
<HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-padding: 15; -fx-background-color: #f9fafb;">
    <Button fx:id="btnResetToDefault" text="Máº·c Ä‘á»‹nh" onAction="#handleResetToDefault"
            style="-fx-background-color: #6b7280; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 8 16;"/>
    <Button fx:id="btnCancel" text="Há»§y" onAction="#handleCancel"
            style="-fx-background-color: #dc2626; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 8 16;"/>
    <Button fx:id="btnApply" text="Ãp dá»¥ng" onAction="#handleApply"
            style="-fx-background-color: #059669; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 8 16;"/>
    <Button fx:id="btnOK" text="OK" onAction="#handleOK" defaultButton="true"
            style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 8 16;"/>
</HBox>

</VBox>
